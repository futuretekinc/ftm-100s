'use strict';
var logger = require('log4js').getLogger('Sensor');

function initNetworks() {
  var powerManagerNetwork;

  try {
    powerManagerNetwork = require('./network/powerManager');
  } catch (e) {
    logger.error('[powerManager] init networks error', e);
  }

  return {
    powerManager: powerManagerNetwork
  };
}

function initDrivers() {
  var powerManagerSensor, powerManagerActuator;

  try {
    powerManagerSensor = require('./driver/powerManagerSensor');
    powerManagerActuator = require('./driver/powerManagerActuator');
  } catch(e) {
    logger.error('[powerManager] init drivers error', e);
  }

  return {
    powerManagerSensor: powerManagerSensor,
    powerManagerActuator: powerManagerActuator
  };
}

module.exports = {
  networks: ['powerManager'],
  drivers: {
    powerManagerSensor: ['B310WS'],
    powerManagerActuator: ['B310WA']
  },
  initNetworks: initNetworks,
  initDrivers: initDrivers
};
